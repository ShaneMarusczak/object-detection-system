# ==============================================================================
# Road Traffic Counter
# ==============================================================================
# Count vehicles traveling north and south on the road.
# ==============================================================================


detection:
  model_file: "yolo11n.pt"
  confidence_threshold: 0.25


roi:
  horizontal:
    enabled: true
    crop_from_left_pct: 0
    crop_to_right_pct: 45
  vertical:
    enabled: true
    crop_from_top_pct: 5
    crop_to_bottom_pct: 95


lines:
  - type: vertical
    position_pct: 25
    description: "counting line"


events:
  - name: "southbound"
    match:
      event_type: "LINE_CROSS"
      line: "counting line"
      direction: "LTR"
      object_class: ["car", "motorcycle", "bus", "truck"]
    actions:
      json_log: true

  - name: "northbound"
    match:
      event_type: "LINE_CROSS"
      line: "counting line"
      direction: "RTL"
      object_class: ["car", "motorcycle", "bus", "truck"]
    actions:
      json_log: true


output:
  json_dir: "data"

console_output:
  enabled: true
  level: "detailed"

consumers:
  json_writer:
    enabled: true
    prompt_save: true


camera:
  url: "http://192.168.86.33:4747/video"


runtime:
  default_duration_hours: 1.0
  queue_size: 1000
  analyzer_startup_delay: 1
  detector_shutdown_timeout: 5
  analyzer_shutdown_timeout: 10


notifications:
  enabled: false

frame_storage:
  type: "local"
  local_dir: "frames"
